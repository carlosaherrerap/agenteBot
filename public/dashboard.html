<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Max Dashboard - Gestión de Cobranzas</title>
    <link rel="stylesheet" href="dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar">
            <header class="sidebar-header">
                <h1>Chats</h1>
                <span class="chat-count" id="chatCount">0</span>
            </header>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Buscar conversación...">
            </div>
            <div class="chat-list" id="chatList">
                <!-- Chat items will be injected here -->
            </div>

            <!-- Quick Links -->
            <div class="sidebar-footer"
                style="padding: 1rem; border-top: 1px solid var(--border); margin-top: auto; display: flex; flex-direction: column; gap: 0.5rem;">
                <a href="faq-admin.html"
                    style="text-decoration: none; color: var(--text-muted); font-size: 0.85rem; display: flex; align-items: center; gap: 8px; padding: 0.6rem; border-radius: 8px; transition: all 0.2s;"
                    onmouseover="this.style.background='var(--bg-hover)'" onmouseout="this.style.background='none'">
                    <i data-lucide="help-circle" style="width: 16px;"></i> Gestionar FAQs
                </a>
                <a href="stats.html"
                    style="text-decoration: none; background: linear-gradient(135deg, var(--wa-accent), #4ade80); color: white; border-radius: 12px; padding: 0.8rem; font-weight: 600; text-align: center; display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 5px; box-shadow: 0 4px 12px rgba(37, 211, 102, 0.25);">
                    <i data-lucide="bar-chart-2" style="width: 18px;"></i> Inteligencia & IA
                </a>
            </div>
        </aside>

        <!-- Main Chat Area -->
        <main class="main-content">
            <!-- Header -->
            <header class="chat-header" id="chatHeader" style="visibility: hidden;">
                <div class="chat-info">
                    <div class="avatar" id="chatAvatar">?</div>
                    <div class="details">
                        <span class="name" id="chatName">Selecciona un chat</span>
                    </div>
                </div>
                <div class="chat-actions">
                    <div class="status-indicators">
                        <span class="indicator" id="indSQL" title="SQL Server"><i data-lucide="database"></i></span>
                        <span class="indicator" id="indRedis" title="Redis"><i data-lucide="layers"></i></span>
                        <span class="indicator" id="indWA" title="WhatsApp"><i data-lucide="message-circle"></i></span>
                    </div>
                    <button class="btn-toggle" id="btnToggleBot">
                        <div class="dot" id="botStatusDot"></div>
                        <span id="btnToggleText">Bot Activo</span>
                    </button>
                    <button class="btn-logout" id="btnLogout" title="Cerrar Sesión">
                        <i data-lucide="log-out"></i>
                    </button>
                </div>
            </header>

            <!-- Messages Container -->
            <div class="messages-container" id="messagesContainer">
                <div class="welcome-screen" id="welcomeScreen">
                    <div
                        style="background: var(--wa-accent); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px;">
                        <i data-lucide="message-square"></i>
                    </div>
                    <h2>Max Dashboard</h2>
                    <p>Gestiona tus cobranzas de forma profesional e intuitiva. Selecciona un chat para comenzar.</p>
                </div>
            </div>

            <!-- Input Footer -->
            <footer class="message-input" id="messageInputArea" style="visibility: hidden;">
                <div class="input-wrapper">
                    <textarea id="textInput" placeholder="Escribe un mensaje..." rows="1"></textarea>
                    <button class="btn-send" id="btnSend">
                        <i data-lucide="send"></i>
                    </button>
                </div>
            </footer>
        </main>
    </div>

    <script src="dashboard.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>